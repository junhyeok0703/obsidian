1. SQL 쿼리 작성하는 흐름
2. 쿼리 작성 템플릿과 생산성 도구
3. 오류를 디버깅하는 방법

### SQL 쿼리 작성하는 흐름
1. 지표 고민(지표-> 문제정의) -> 어떤 문제를 해결하기 위해 데이터가 필요한가?
2. 지표 구체화 -> 추상적이지 않고 구체적인 지표 명시(분자 , 분모 표시) 이름을 구체적으로 정의 -> 지표를 정의하지않고 그냥 바로 SQL쿼리로 데이터를 뽑는다면 다시 처음부터해야한다. 어떤 컬럼은 어떤 벨류만 써야한다. 이런거
3. 지표 탐색 -> 유사한 문제를 해결한 케이스가 있나 확인 -존재한다면> 해당 쿼리 리뷰
4. 쿼리 작성 -> 존재하지않다면 데이터가 있는 테이블 찾기 (ERD) ->  1개를 사용할수도 있고 2개이상사용하면 연결 방법 고민을 해야함(join)
5. 데이터 정합성 확인 -> 예상한 결과와 동일한지 확인
6. 쿼리 가독성 -> 나중을 위해 깔끔하게 쿼리 작성
7. 쿼리 저장 -> 쿼리를 재사용을 위해 문서를 저장

### 쿼리 작성 템플릿과 생산성 도구 
![[Pasted image 20250111222652.png]]
확인할 지표 -> 지표 정의
계산 방법 -> 집계를 하는가? 뭐 이런것들
데이터의 기간 -> 데이터 엄청 많아서 일부분만 보고 맞으면 늘리는 방식

템플릿을 매번하기 귀찮으니까 생산성 도구를 활용한다.
![[Pasted image 20250111222903.png]]
특정 단어를 입력하면 원하는 문장(템플릿)으로 변경
![[Pasted image 20250111222927.png]]
date가 오늘날짜로 바뀌도록 할수도있다.

### 디버깅하는 방법

오류가 발생하면 : 아 길잡이가 나를 더 좋은 길로 나아가게 하려는 구나!
좋은 길로 어떻게 갈까?
- 오류 메시지를 보면서 더 좋은 길로 나가자

### 대표적인 오류
#### Syntax error (문법 오류)
- 문법을 지키지 않아 생기는 오류
1. SELECT list must not be empty at\[10:1]
 -> SELECT 목록 \[10:1]에서 비어 있으면 안됩니다.
chatgpt로 오류 디버깅

2. ![[Pasted image 20250111224803.png]]
 - 인자수가 일치하지 않다.
 3.  ![[Pasted image 20250111224843.png]]
- type1이 GROUP BY가 있어야한다.
4. \[8:1] 줄 : 칸
5. ![[Pasted image 20250111225057.png]]
- 세미콜론을 써라
6. ![[Pasted image 20250111225229.png]]
- LIMIT은 맨아래 놔야한다.
7. ![[Pasted image 20250111225346.png]]
- 괄호를 안씀

오류메시지 검색 구글,공식문서,chatgpt ㄱㄱ