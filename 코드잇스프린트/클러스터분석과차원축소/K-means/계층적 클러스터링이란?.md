계층적 클러스터링은 유사한 데이터들을 순차적으로 묶어가며 클러스터를 형성하는 방법이다.
이를 바텀업 클러스터링이라고도 하며 , 데이터가 하나의 클러스터로 모두 묶일 때까지 과정을 반복한다.
### 계층적 클러스터링 과정
1. 가장 가까운 데이터 쌍을 묶기
	- 각 데이터 사이의 거리를 계산해 가장 가까운 데이터들부터 묶어나간다
2. 묶인 데이터끼리도 거리 계산
	- 이미 묶인 데이터 쌍끼리의 거리도 계산해, 더 가까운 쌍을 하나의 클러스터로 묶는다.
3. 클러스터링 반복
	- 모든 데이터가 하나의 클러스터로 묶일 때까지 이과정을 반복한다.
이때 나온 계층 구조를 시각화한것이 덴드로그램이다. 덴드로그램을 이용해 원하는 클러스터 개수로 데이터를 구분할수있다.
![[Pasted image 20241204171933.png]]
이런식으로 3개의 묶음이 나올수있고 자르는 곳에 따라 묶음을 달리할수있다.
계층을 묶을때 특정 데이터가 서로 유사하다는 것을 어떻게 정의할까?
ward 거리로 많이 사용한다.
### Ward 거리란?
- 두 클러스터를 합쳤을 때 중심점과 데이터 간 거리의 제곱합 증가분을 측정하는 방식.
- 계층적 클러스터링에서 클러스터를 묶는 기준으로 사용.

### 과정
1. 각 데이터가 클러스터
	- 처음에는 각 데이터가 자신의 중심을 가진 개별 클러스터로 시작.
2. 두 클러스터 묶기
	- 두 점 A와 B를 하나의 클러스터로 묶으면 , 새로운 중심은 두 점의 중간 지점이 됨.
3. 거리 계산
	- 새로운 중심과 A,B간의 거리의 제곱합을 구하고 , 이전 거리와의 차이(증가분)을 계산
		- 증가분이라는 생소한 개념을 쓴 이유는 이전과의 비교 개념이 포함되기 떄문에
4. Ward 거리
	- 이 거리 증가분이 Ward 거리이며, 이를 최소화하는 방향으로 클러스터를 결합


### 목표
 - 변동 최소화 - ward 거리의 증가를 최소화하여 효율적인 클러스터링을 수행


