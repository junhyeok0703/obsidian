
장바구니의 한 종류인 연관 규칙 마이닝을 보자

### 연관 규칙 마이닝이란?
데이터안에서 아이템 간의 상호 관련성을 탐색해 유의미한 정보를 추출해 내는 장바구니 분석 방법론이다.
연관 규칙은 말 그대로 상품 간의 연관성을 나타내는 규칙을 의미하며 보통 IF (조건) THEN (결과)의 형식으로 표현된다. 
어떤 조건을 만족했을 때 특정 결과가 나타난다는 의미다.
우리는 이 연관 규칙을 사용하여 구매 행동의 흥미로운 패턴을 파악하려고 한다.

1. IF: 이부분은 연관 규칙의 조건을 나타낸다. 즉 어떤 상황에서 이 조건이 발동되는지 정의하는 부분이다. 일반벅으로 하나 이상의 아이템이 들어가는 조건으로 구성, Antecedent라고 표현하기도 한다.
2. THEN: 이 부분은 연관 규칙의 결과로 조건이 충족되면 어떤 상황이 발생하는지를 의미한다. 

예를 들어 슈퍼마켓의 결제데이터에서 다음과 같은 연관 규칙을 발견할수있다.
1. IF: 만약 고객이 우유와 달걀을 함께 구매하면 (조건)
2. THEN : 빵도 함께 구매할 가능성이 높다(결과)
위 규칙을 토대로 우유, 달걀, 빵을 가까운 거리에 진열해 두면 이를 함께 구매하려는 고객들이 편리하게 상품을 찾을 수 있겠죠.
아니면 우유와 달걀, 빵을 함께 묶어서 프로모션을 진행하는 방향도 고려해 볼 수 있을 겁니다.

한편 이러한 연관 규칙을 생각할 때 유의해야하는 점은 이 규칙은 직접적인 인과 관계를 의미하지않는다. 단지 아이템 간의 상호 관련성을 나타내는 것이다. 우유와 달걀을 구매했기 떄문에 빵도 구매하는것이 아니라 우유와 달걀 그리고 빵이 구매 측면의 연관성을 보인다. 이정도?

### 연관 규칙 찾기 
연관 규칙은 어떻게 찾아내는 걸까?
아래와 같은 데이터에서 연관 규칙을 정해야한다
![[Pasted image 20241214190621.png]]
기본적으로는 함께 구매되는 상품들을 찾아 아래와 같이 정리하면 모두 규칙이 될 수 있습니다.

- 규칙1: 우유를 사면 달걀을 산다.
- 규칙2: 물을 사면 빵을 산다.
- 규칙3: 빵을 사면 우유를 산다.
- …
이런느낌 

이렇게 만들어진 규칙들외에도 무수한 규칙을 만들수있다. 진짜 의미 있는 규칙을 찾는것이 중요하다.가장 중요한 규칙이 무엇일까? 그가치를 평가하려면 어떻게 할까?