
기존의 전문성과 데이터 부족한 "의자"라는 컨텐츠를 극복하기 위해 "컴퓨터"로 변경하였습니다. 시나리오는 동일합니다. 사용자가 상품 url을 등록하면 해당 상품에 해당하는 하드웨어 정보를 가져옵니다. 그 정보를 llm이 분석하여 사용자가 원하는 사양에 부합한지 판단, 상담, 교체 권고 등의 사항을 답변해줍니다. llm 학습에 이용할 데이터는 각 회사의 gpu,cpu,ram등의 제품들에 대한 정보, 컴퓨터 기본 구동 정보, 다양한 프로그램(게임, 편집 툴 등등)에 대한 적정 사양 등을 학습시켜 제공할 예정입니다. 챗봇 구성에는 llm 파인튜닝과 rag 프로세스가 동시에 적용될 예정입니다.  
회사별 컴퓨터 부품에 대한 데이터, 컴퓨터 구동에 대한 데이터, 각 프로그램 별 적정 사양에 대한 데이터 등이 학습용 데이터셋으로 구성될 예정입니다. RAG에 활용할 임베딩 데이터 셋은 리뷰데이터, 학습용데이터로 구성될 예정입니다. 새로운 부품, 새로운 프로그램 등 추가 데이터가 있을 경우 RAG 데이터 셋에 저장되어 최신 데이터에도 대응 가능하도록 계획하고 있습니다.

구현 시나리오 : 
여러가지 프로그램 리스트업 
사용 용도 리스트의 최소사양
사용 용도에 대한 최소사양의 질문 답에 대한 데이터셋


### 여러가지 프로그램 리스트
게임 , 편집 , 건축(그래픽작업) , 코딩

### 게임별 최저사양, 적정사양 , 디스플레이별 추천견적서 

라스트 에포크 최소사양
운영체제 Windows 10 64-bit
프로세서 Intel Core i5-2500 / AMD FX-4350
메모리 8 GB RAM
그래픽 카드 NVIDIA GeForce GTX 660 Ti / AMD Radeon R9 270 with 3 GB+ of VRAM
API DirectX 11
저장 공간 20 GB
추가 사항 SSD 강력 권장
라스트 에포크 권장사양
운영체제 Windows 10 64-bit
프로세서 Intel Core i5-6500 / AMD Ryzen 3 1200
메모리 16 GB RAM
그래픽 카드 NVIDIA GeForce GTX 1060 / AMD Radeon RX 480 with 4 GB+ of VRAM
API DirectX 11
저장 공간 20 GB
추가 사항 SSD 강력 권장
라스트 에포크 컴퓨터 견적 추천 (2024년 04월)
FHD 해상도 (1920*1080) 평균 프레임 "60FPS" 를 기준
하옵 추천견적서	
인텔 : 코어i3-12100F + RX 6500 XT 조합60만원 후반
AMD : 라이젠5 5600 + RX 580 조합60만원 초반
중옵 추천견적서	
인텔 : 코어i5-12400F + GTX 1660 SUPER 조합80만원 후반
AMD : 라이젠5 5600 + RX 6600 조합70만원 중반
최상옵 추천견적서	
인텔 : 코어i5-12400F + RX 7600 조합90만원 후반
AMD : 라이젠5 5600 + RX 7600 조합80만원 초반
2024년 4월 5일 기준 가격입니다. (실제 가격비교 시 변동될 수 있습니다.)

QHD 해상도 (2560*1440) 평균 프레임 "60FPS" 를 기준
하옵 추천견적서	
인텔 : 코어i5-12400F + GTX 1660 SUPER 조합80만원 후반
AMD : 라이젠5 5600 + RX 6600 조합70만원 중반
중옵 추천견적서	
인텔 : 코어i5-12400F + RX 7600 조합90만원 후반
AMD : 라이젠5 5600 + RX 7600 조합80만원 초반
최상옵 추천견적서	
인텔 : 코어i5-12400F + RTX 4060 Ti 조합120만원 초반
AMD : 라이젠5 5600 + RX 6800 조합90만원 후반
2024년 4월 5일 기준 가격입니다. (실제 가격비교 시 변동될 수 있습니다.)

4K UHD 해상도 (3840*2160) 평균 프레임 "60FPS" 를 기준
하옵 추천견적서	
인텔 : 코어i5-12400F + RX 7600 조합90만원 후반
AMD : 라이젠5 5600 + RX ㅁ 조합80만원 초반
중옵 추천견적서	
인텔 : 코어i5-12400F + RTX 4060 Ti 조합120만원 초반
AMD : 라이젠5 5600 + RX 6800 조합90만원 후반
최상옵 추천견적서	
인텔 : 코어i5-13400F + RTX 4070 SUPER 조합180만원 중반
AMD : 라이젠5 5600 + RTX 4070 SUPER 조합140만원 중반
2024년 4월 5일 기준 가격입니다. (실제 가격비교 시 변동될 수 있습니다.)




### 그래픽(편집) 프로그램별 
프리미어프로
파이널컷


### 건축 작업 
캐드
설계프로그램

### 코딩별 작업
예를들어 백엔드 작업을 한다, 이런거 좋다

### 가격별 추천 견적 
40만원때 추천견적
50만원때 추천견적


### 위에 사용용도별로 가격대와 합쳐서 질문 답 데이터셋 만들기



데이터 어그멘테이션 후에 
좋은 품질의 데이터를 넣기위한 휴먼 필터링 작업후
코알파카에 학습을 위한 데이터셋 정제

다음주안에 가능할듯?









LLM 파인튜닝 - 컴퓨터 부품별로 pdf와 제품 사양같은걸 설명하는 학습데이터 
RAG - 견적왕사이트의 견적데이터 1500~5000까지의 데이터(견적에 대한 설명이 적혀있음)와 컴퓨터견적커뮤니티의 4월견적데이터 




### 현재 상태

RAG 데이터 견적데이터와 컴퓨터부품가격데이터가 둘을 어떻게 엮어서 활용할까?
배열로 현재는 두데이터를 합쳐서 사용하니까 일단 할루시네이션이 생김

![[스크린샷 2024-04-16 23.17.04.png]]

```
  

from langchain.vectorstores import Chroma

from langchain.embeddings import OpenAIEmbeddings

  

# text-embedding-3-small 모델을 사용하여 벡터 스토어를 생성합니다.

vectorstore = Chroma.from_documents(documents=splits, embedding=OpenAIEmbeddings(openai_api_key=OPENAI_KEY, model="text-embedding-3-small"))

retriever = vectorstore.as_retriever()

  

# 밑에는 비싼모델임

# vectorstore = Chroma.from_documents(documents=splits, embedding=OpenAIEmbeddings(openai_api_key=OPENAI_KEY)) # text-embedding-ada-002

# retriever = vectorstore.as_retriever()
```

```
from langchain.prompts import PromptTemplate

  

template = """

# Few-shot Prompt for Computer Quotation Chatbot

  

## 예시 1:

### 사용자: 게임과 그래픽 디자인을 할 수 있는 PC를 150만원 이하로 추천해주세요.

### 챗봇: 예산과 요구사항을 고려할 때, 다음 구성을 추천드립니다:

- AMD Ryzen 7 3700X 프로세서 (가격: 30만원)

- NVIDIA GTX 1660 Ti 그래픽 카드 (가격: 40만원)

- 16GB RAM (가격: 8만원)

- 512GB SSD (가격: 10만원)

- 650W 파워 서플라이 (가격: 7만원)

이 구성은 총 95만원이며, 고사양 게임과 복잡한 그래픽 작업에 적합한 성능을 제공합니다.

  

## 예시 2:

### 사용자: 딥러닝 작업을 위한 컴퓨터 세팅을 200만원 이내로 추천해주세요.

### 챗봇: 딥러닝과 같은 고성능 컴퓨팅을 위해 다음과 같은 구성을 제안합니다:

- Intel Core i9-9900K (가격: 50만원)

- NVIDIA RTX 3070 (가격: 90만원)

- 32GB RAM (가격: 16만원)

- 1TB SSD (가격: 20만원)

- 750W 파워 서플라이 (가격: 12만원)

이 구성은 총 188만원이며, 딥러닝 알고리즘을 빠르고 효과적으로 처리할 수 있는 충분한 처리 능력을 제공합니다.

  

## 예시 3:

### 사용자: 기본 홈 오피스 세팅 가격이 얼마인가요?

### 챗봇: 일상적인 오피스 작업을 위한 경제적인 선택으로, 다음 구성을 추천드립니다:

- Intel i5 프로세서 (가격: 20만원)

- 내장 그래픽

- 8GB RAM (가격: 4만원)

- 256GB SSD (가격: 5만원)

- 400W 파워 서플라이 (가격: 3만원)

이 세팅의 총 비용은 약 32만원이며, 문서 작업, 웹 브라우징 및 비디오 회의 등의 기본적인 컴퓨터 작업을 수행하기에 충분합니다.

  

# 사용자 입력:

### 사용자: [사용자의 요구사항 입력]

### 챗봇: [가능한 데이터와 논리에 기반한 응답. 정보가 부족할 경우: "죄송하지만 귀하의 사양에 따른 자세한 추천을 제공할 정보가 충분하지 않습니다. 더 자세한 내용을 제공하거나 전문가와 상담하시기 바랍니다."]

"""

  

rag_prompt_custom = PromptTemplate.from_template(template)
```

```
# RAG chain 설정

  

from langchain.schema.runnable import RunnablePassthrough

  

rag_chain = {"context": retriever, "question": RunnablePassthrough()} | rag_prompt_custom | llm
```
![[스크린샷 2024-04-16 23.20.58.png]]
위 사진이 결과값인데 
문제점 1. 견적데이터는 한글인데 영어로 출력됨
문제점 2. 견적을 중복되게 이야기해줌


내가볼때 파일을 견적하나하나로 다 나눠서 라벨링해야될듯?
약 4000개정도
지금 다 관련있는거로 생각할것같은데 뭔가?..
해결방안1.  강의를 참고해서 데이터형식을 비슷하게 만든다.
해결방안2.  프롬프트를 잘써서 가격데이터와 견적데이터를 매칭하도록 유도하기



